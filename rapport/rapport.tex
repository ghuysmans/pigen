\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage[margin=1.5cm]{geometry}
\author{Guillaume \textsc{Huysmans}, Martin \textsc{Lempereur}}
\title{Génération de nombres à partir des décimales de $\pi$}
\begin{document}
\maketitle

\section{Introduction}
Le CPU d'un ordinateur est entièrement déterministe. Certains algorithmes
utilisés par exemple en intelligence artificielle ne le sont pas et auront de
bien meilleurs résultats lorsqu'ils pourront explorer <<~au hasard~>> différentes
zones de leur espace de recherche. Différentes méthodes existent afin de générer
des nombres pseudo-aléatoires (ils ne le sont pas vraiment puisqu'ils sont
implémentés avec des algorithmes parfaitement déterministes). La seule donnée
peu prévisible que nous choisissons d'utiliser est le moment auquel le générateur
est lancé.
Les méthodes vues au cours afin de générer des nombres selon des lois normales,
poissonniennes, exponentielles, etc. se basent sur un générateur uniforme et
c'est ce que nous essaierons de construire ici. 

\section{Tests}
L'erreur de première espèce (risque de confirmer à tort l'hypothèse de même loi)
est fixée à $\alpha=0.05$.

\subsection{Histogramme}
Un histogramme peut nous donner un premier aperçu sur la répartition
du premier million de décimales du nombre $\pi$.
Cependant un histogramme n'a aucune valeur scientifique \textit{per se}. 
On peut facilement comprendre que la séquence [0,1,2,3,4,5,6,7,8,9]
nous donnera un histogramme parfaitement régulier.
Nous avons donc implémenté une batterie de tests qui se concentrent sur d'autres aspects de l'uniformité.

%FIXME résultats

\subsection{Test du Poker}
Nous avons choisi de nous baser directement sur les décimales contenues
dans le fichier. Ainsi, nous utiliserons 10~classes qui correspondront
à chaque fois au nombre de <<~faces~>> différentes obtenues
après $k$ lancers afin d'éviter de trop importantes erreurs d'arrondi.
%FIXME pluriel arrondi ?
Ce test est répété $n$ fois et un ratio de tests réussis est calculé.
Des classes peu peuplées ont été regroupées afin d'éviter
des valeurs attendues nulles.

\texttt{./poker.py 10 1000 <pi6.txt} fonctionne à 91\%.

On va comparer les résultats de nos tests aux valeurs théoriques suivantes :
\begin{center}
\begin{tabular}{|l|l|l|l|l|}
\hline
1 face $\neq$ & 2 faces $\neq$  & 3 faces $\neq$ & 4 faces $\neq$ & 5 faces $\neq$\\
\hline \hline
34.55776 & 128.5956 & 345.14424 & 355.6224 & 136.08\\ \hline
\end{tabular}
\end{center}
La commande ci-dessus produits les résultats suivants (résultats non-exhaustifs) : 
\begin{center}
\begin{tabular}{|l|l|l|l|l|c|c|}
\hline
1 face $\neq$ & 2 faces $\neq$  & 3 faces $\neq$ & 4 faces $\neq$ & 5 faces $\neq$ & Résultats $\chi^2$ & Probabilités \\
\hline \hline
36 & 137 & 345 & 343 & 139 &  1.12 &  0.89\\ \hline
38 & 151 & 334 & 353 & 124 &  5.70 &  0.22\\ \hline
38 & 125 & 358 & 373 & 106 &  8.42 &  0.08\\ \hline
38 & 139 & 340 & 357 & 126 &  2.01 &  0.73\\ \hline
31 & 132 & 358 & 347 & 132 &  1.27 &  0.87\\ \hline
30 & 101 & 382 & 333 & 154 & 14.26 &  0.01\\ \hline
24 & 137 & 334 & 367 & 138 &  4.53 &  0.34\\ \hline
30 & 127 & 340 & 360 & 143 &  1.10 &  0.89\\ \hline
35 & 115 & 338 & 369 & 143 &  2.45 &  0.65\\ \hline
38 & 116 & 358 & 360 & 128 &  2.59 &  0.63\\ \hline
37 & 123 & 347 & 370 & 123 &  2.26 &  0.69\\ \hline
42 & 121 & 334 & 376 & 127 &  4.18 &  0.38\\ \hline
40 & 134 & 328 & 351 & 147 &  2.87 &  0.58\\ \hline
38 & 141 & 355 & 329 & 137 &  3.82 &  0.43\\ \hline
42 & 129 & 341 & 339 & 149 &  3.66 &  0.45\\ \hline
54 & 135 & 349 & 325 & 137 & 13.94 &  0.01\\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
34 & 142 & 338 & 355 & 131 &  1.74 &  0.78\\ \hline
37 & 142 & 317 & 354 & 150 &  5.30 &  0.26\\ \hline
28 & 119 & 358 & 366 & 129 &  3.11 &  0.54\\ \hline
36 & 125 & 314 & 372 & 153 &  5.83 &  0.21\\ \hline
27 & 131 & 344 & 362 & 136 &  1.82 &  0.77\\ \hline
35 & 155 & 323 & 351 & 136 &  6.91 &  0.14\\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
38 & 119 & 350 & 355 & 138 &  1.16 &  0.89\\ \hline
32 & 139 & 344 & 352 & 133 &  1.14 &  0.89\\ \hline
\end{tabular}
\end{center}

Pour donner un point de comparaison avec le générateur de base python nous avons exécuté ce même test sur des nombres générés à partir du module random.

Les résultats théoriques attendus sont donc les mêmes car les paramètres ne changent pas
\begin{center}
\begin{tabular}{|l|l|l|l|l|c|c|}
\hline
1 face $\neq$ & 2 faces $\neq$  & 3 faces $\neq$ & 4 faces $\neq$ & 5 faces $\neq$ & Résultats $\chi^2$ & Probabilités \\
\hline \hline
40 & 128 & 360 & 321 & 151 &  6.51 &  0.16\\ \hline
27 & 128 & 371 & 354 & 120 &  5.50 &  0.24\\ \hline
31 & 137 & 325 & 371 & 136 &  2.76 &  0.60\\ \hline
37 & 118 & 363 & 350 & 132 &  2.18 &  0.70\\ \hline
40 & 116 & 372 & 339 & 133 &  5.03 &  0.28\\ \hline
29 & 122 & 355 & 376 & 118 &  5.08 &  0.28\\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
33 & 128 & 349 & 357 & 133 &  0.19 &  1.00\\ \hline
32 & 129 & 329 & 368 & 142 &  1.63 &  0.80\\ \hline
36 & 117 & 335 & 380 & 132 &  3.20 &  0.53\\ \hline
33 & 124 & 353 & 368 & 122 &  2.30 &  0.68\\ \hline
35 & 111 & 349 & 376 & 129 &  3.99 &  0.41\\ \hline
38 & 114 & 345 & 360 & 143 &  2.41 &  0.66\\ \hline
30 & 140 & 350 & 348 & 132 &  1.97 &  0.74\\ \hline
33 & 137 & 337 & 341 & 152 &  3.28 &  0.51\\ \hline
33 & 151 & 342 & 343 & 131 &  4.64 &  0.33\\ \hline
26 & 136 & 367 & 344 & 127 &  4.92 &  0.30\\ \hline
35 & 130 & 339 & 338 & 158 &  4.53 &  0.34\\ \hline
39 & 107 & 367 & 338 & 149 &  7.68 &  0.10\\ \hline
35 & 115 & 344 & 353 & 153 &  3.57 &  0.47\\ \hline
44 & 124 & 371 & 352 & 109 & 10.11 &  0.04\\ \hline
39 & 128 & 358 & 344 & 131 &  1.62 &  0.80\\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
30 & 119 & 303 & 406 & 142 & 13.86 &  0.01\\ \hline
32 & 140 & 354 & 325 & 149 &  5.29 &  0.26\\ \hline
41 & 130 & 357 & 347 & 125 &  2.73 &  0.60\\ \hline
42 & 131 & 337 & 358 & 132 &  1.98 &  0.74\\ \hline
31 & 124 & 347 & 367 & 131 &  1.09 &  0.90\\ \hline
39 & 128 & 347 & 336 & 150 &  3.09 &  0.54\\ \hline
31 & 106 & 364 & 363 & 136 &  5.52 &  0.24\\ \hline
30 & 142 & 344 & 352 & 132 &  2.16 &  0.71\\ \hline
41 & 137 & 330 & 378 & 114 &  7.41 &  0.12\\ \hline
31 & 137 & 331 & 351 & 150 &  2.98 &  0.56\\ \hline
37 & 124 & 349 & 367 & 123 &  2.00 &  0.74\\ \hline
31 & 120 & 353 & 353 & 143 &  1.49 &  0.83\\ \hline
30 & 116 & 339 & 361 & 154 &  4.39 &  0.36\\ \hline
39 & 140 & 328 & 351 & 142 &  2.75 &  0.60\\ \hline
32 & 139 & 345 & 358 & 126 &  1.79 &  0.77\\ \hline
47 & 155 & 314 & 347 & 137 & 12.93 &  0.01\\ \hline
37 & 115 & 343 & 367 & 138 &  2.01 &  0.73\\ \hline
30 & 131 & 364 & 334 & 141 &  3.17 &  0.53\\ \hline
31 & 134 & 333 & 359 & 143 &  1.40 &  0.84\\ \hline
\end{tabular}
\end{center}

Cette fois-ci les tests réussissent avec un taux de $95\%$


\subsection{Test de Gap}
%FIXME autres paramètres
On décide d'un intervalle $[a,b] \subset [0,1]$,
on génère une séquence de nombres (nous avons décidé de regrouper des décimales)
et on marque ceux compris dans cet intervalle. Le but du test est de regarder les
distances entre deux nombres marqués successifs.
Afin d'éviter des classes aux valeurs attendues nulles
qui auraient une influence énorme sur le test du $\chi^2$,
les paramètres ont été soigneusement choisis.

\texttt{./gap.py 11 10000 20 <pi6.txt} fonctionne à 85\%.

Soit $r$ la longueur d'un gap, les valeurs attendues en fonction de $r$ sont les suivantes : 
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
\hline
$r = 0$ & $r = 1$ & $r = 2$ & $r = 3$ & $r = 4$ & $r = 5$ & $r = 6$ & $r = 7$ & $r = 8$ & $r = 9$ & $r = 10$ & $r \geq 11$\\ \hline
2500.0 & 1250.0 & 625.0 & 312.5 & 156.25 & 78.125 & 39.0625 & 19.53125 & 9.765625 & 4.8828125 & 2.44140625 & 1.220703125\\ \hline
\end{tabular}
\end{center}
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
\hline
$r = 0$ & $r = 1$ & $r = 2$ & $r = 3$ & $r = 4$ & $r = 5$ & $r = 6$ & $r = 7$ & $r = 8$ & $r = 9$ & $r = 10$ & $r \geq 11$ & Résultats $\chi^2$ & Probabilités \\ \hline
2512 & 1211 & 618 & 315 & 159 & 97 & 34 & 18 & 12 & 5 & 1 & 2 &  8.62 &  0.66\\ \hline
2519 & 1265 & 654 & 305 & 160 & 85 & 27 & 16 & 9 & 5 & 1 & 0 &  9.04 &  0.62\\ \hline
2505 & 1230 & 648 & 316 & 154 & 66 & 42 & 15 & 14 & 6 & 2 & 3 &  9.17 &  0.61\\ \hline
2462 & 1247 & 666 & 321 & 144 & 62 & 47 & 16 & 13 & 2 & 1 & 5 & 25.37 &  0.01\\ \hline
2453 & 1249 & 647 & 312 & 151 & 74 & 41 & 14 & 13 & 3 & 4 & 5 & 18.21 &  0.08\\ \hline
2458 & 1260 & 629 & 309 & 171 & 66 & 31 & 29 & 14 & 0 & 4 & 2 & 18.59 &  0.07\\ \hline
2487 & 1292 & 612 & 333 & 162 & 66 & 42 & 20 & 5 & 2 & 2 & 1 &  9.57 &  0.57\\ \hline
2538 & 1243 & 627 & 335 & 159 & 86 & 24 & 12 & 15 & 2 & 0 & 2 & 19.24 &  0.06\\ \hline
2566 & 1278 & 613 & 304 & 134 & 85 & 42 & 24 & 8 & 4 & 0 & 3 & 13.36 &  0.27\\ \hline
2422 & 1254 & 667 & 283 & 155 & 76 & 48 & 20 & 14 & 6 & 1 & 1 & 13.16 &  0.28\\ \hline
2480 & 1230 & 580 & 314 & 142 & 90 & 55 & 17 & 21 & 4 & 4 & 1 & 27.78 &  0.00\\ \hline
2420 & 1223 & 627 & 319 & 159 & 84 & 49 & 21 & 10 & 3 & 3 & 1 &  7.31 &  0.77\\ \hline
2441 & 1304 & 664 & 310 & 165 & 72 & 25 & 21 & 11 & 2 & 0 & 0 & 17.84 &  0.09\\ \hline
2567 & 1234 & 631 & 319 & 168 & 63 & 42 & 18 & 13 & 1 & 1 & 0 & 12.58 &  0.32\\ \hline
2447 & 1253 & 628 & 310 & 164 & 78 & 36 & 23 & 11 & 4 & 4 & 1 &  3.76 &  0.98\\ \hline
2516 & 1212 & 635 & 325 & 163 & 72 & 37 & 12 & 11 & 7 & 4 & 3 & 10.36 &  0.50\\ \hline
2483 & 1241 & 618 & 327 & 136 & 93 & 35 & 25 & 9 & 4 & 3 & 3 & 11.28 &  0.42\\ \hline
2569 & 1247 & 602 & 288 & 174 & 69 & 36 & 19 & 13 & 9 & 5 & 2 & 15.74 &  0.15\\ \hline
2484 & 1251 & 623 & 329 & 164 & 87 & 32 & 13 & 6 & 4 & 1 & 4 & 14.62 &  0.20\\ \hline
2532 & 1205 & 635 & 297 & 142 & 98 & 25 & 28 & 12 & 10 & 2 & 3 & 26.60 &  0.01\\ \hline
\end{tabular}
\end{center}

Quand aux résultats des tests sur les chiffres générés par le random de python, on obtient $95\%$ de réussites
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
\hline
$r = 0$ & $r = 1$ & $r = 2$ & $r = 3$ & $r = 4$ & $r = 5$ & $r = 6$ & $r = 7$ & $r = 8$ & $r = 9$ & $r = 10$ & $r \geq 11$ & Résultats $\chi^2$ & Probabilités \\ \hline
2582 & 1236 & 618 & 322 & 121 & 89 & 39 & 18 & 11 & 8 & 4 & 2 & 16.44 &  0.13\\ \hline
2482 & 1269 & 655 & 305 & 164 & 86 & 25 & 12 & 5 & 7 & 3 & 3 & 17.15 &  0.10\\ \hline
2455 & 1276 & 622 & 298 & 158 & 84 & 40 & 17 & 10 & 6 & 4 & 2 &  4.60 &  0.95\\ \hline
2406 & 1291 & 620 & 322 & 161 & 70 & 39 & 17 & 13 & 5 & 2 & 3 & 10.27 &  0.51\\ \hline
2490 & 1207 & 636 & 300 & 158 & 88 & 41 & 24 & 12 & 3 & 0 & 4 & 14.61 &  0.20\\ \hline
2500 & 1237 & 608 & 316 & 159 & 88 & 35 & 16 & 14 & 7 & 2 & 2 &  6.33 &  0.85\\ \hline
2486 & 1303 & 590 & 311 & 140 & 90 & 39 & 23 & 9 & 7 & 3 & 1 &  9.55 &  0.57\\ \hline
2439 & 1228 & 683 & 301 & 165 & 66 & 40 & 19 & 11 & 3 & 4 & 2 & 12.46 &  0.33\\ \hline
2532 & 1238 & 618 & 336 & 160 & 63 & 43 & 16 & 6 & 6 & 2 & 4 & 14.54 &  0.20\\ \hline
2463 & 1255 & 645 & 300 & 160 & 67 & 39 & 25 & 12 & 3 & 4 & 2 &  7.64 &  0.74\\ \hline
2359 & 1220 & 640 & 322 & 167 & 93 & 41 & 15 & 8 & 5 & 2 & 4 & 20.77 &  0.04\\ \hline
2487 & 1302 & 616 & 289 & 170 & 66 & 46 & 17 & 8 & 7 & 4 & 1 & 11.05 &  0.44\\ \hline
2496 & 1212 & 642 & 325 & 154 & 82 & 41 & 12 & 12 & 4 & 3 & 2 &  6.64 &  0.83\\ \hline
2462 & 1200 & 625 & 320 & 152 & 92 & 39 & 21 & 17 & 3 & 3 & 1 & 11.70 &  0.39\\ \hline
2537 & 1246 & 604 & 340 & 151 & 68 & 40 & 21 & 7 & 3 & 6 & 2 & 12.50 &  0.33\\ \hline
2552 & 1287 & 589 & 326 & 164 & 69 & 34 & 21 & 6 & 6 & 1 & 3 & 12.20 &  0.35\\ \hline
2510 & 1276 & 636 & 313 & 142 & 75 & 42 & 19 & 8 & 4 & 3 & 2 &  3.54 &  0.98\\ \hline
2463 & 1251 & 607 & 305 & 165 & 89 & 36 & 26 & 10 & 7 & 0 & 1 &  9.04 &  0.62\\ \hline
2547 & 1255 & 637 & 298 & 158 & 72 & 38 & 12 & 14 & 6 & 4 & 2 &  8.82 &  0.64\\ \hline
2438 & 1233 & 618 & 328 & 167 & 80 & 28 & 25 & 8 & 9 & 3 & 2 & 12.48 &  0.33\\ \hline
\end{tabular}
\end{center}


\subsection{Test du collectionneur de coupons}
On essaie de collectionner $s$ coupons (par défaut 10 -- un par chiffre)
jusqu'à maximum $m$ tirages.
On crée une classe par nombre de tirages nécessaires pour les collectionner tous.
Il n'y en aura pas pour moins de $s$ lancers puisqu'on veut obtenir
$s$ coupons différents.
Une dernière classe regroupe les longueurs strictement supérieures à $m$.
Le test est répété $t$ fois sur des séquences consécutives dans le fichier.

\texttt{./coupon.py 1000 15 1000 <pi6.txt} fonctionne à 95\%.

Soit $l$ le nombre de lancers, les résultats théoriques attendu sont les suivants :

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|}
\hline
$l = 10$ & $l = 11$ & $l = 12$ & $l = 13$ & $l = 14$ & $l \geq 15$ \\ \hline
0.36288 & 1.63296 & 4.191264 & 8.083152 & 13.045608576 & 972.684135424\\ \hline

\end{tabular}
\end{center}

On compare les résultat théoriques ci-dessus aux résultats des tests suivants : 

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|}
\hline
$l = 10$ & $l = 11$ & $l = 12$ & $l = 13$ & $l = 14$ & $l \geq 15$ & Résultats $\chi^2$ & Probabilités \\ \hline
2 & 2 & 6 & 10 & 12 & 968 &  8.81 &  0.12\\ \hline
0 & 3 & 4 & 8 & 14 & 971 &  1.59 &  0.90\\ \hline
0 & 1 & 4 & 6 & 8 & 981 &  3.18 &  0.67\\ \hline
0 & 2 & 9 & 6 & 10 & 973 &  7.21 &  0.21\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
0 & 1 & 3 & 8 & 10 & 978 &  1.69 &  0.89\\ \hline
0 & 2 & 1 & 8 & 16 & 973 &  3.55 &  0.62\\ \hline
1 & 1 & 8 & 12 & 12 & 966 &  6.85 &  0.23\\ \hline
0 & 2 & 3 & 10 & 10 & 975 &  1.96 &  0.86\\ \hline
0 & 0 & 7 & 7 & 4 & 982 & 10.38 &  0.07\\ \hline
1 & 2 & 2 & 10 & 13 & 972 &  2.80 &  0.73\\ \hline
0 & 2 & 4 & 5 & 12 & 977 &  1.73 &  0.88\\ \hline
1 & 2 & 2 & 8 & 11 & 976 &  2.68 &  0.75\\ \hline
0 & 1 & 4 & 6 & 13 & 976 &  1.17 &  0.95\\ \hline
0 & 0 & 6 & 5 & 10 & 979 &  4.70 &  0.45\\ \hline
0 & 1 & 2 & 9 & 14 & 974 &  1.93 &  0.86\\ \hline
1 & 5 & 2 & 11 & 14 & 967 & 10.36 &  0.07\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
1 & 0 & 7 & 9 & 14 & 969 &  4.82 &  0.44\\ \hline
0 & 1 & 2 & 8 & 18 & 971 &  3.64 &  0.60\\ \hline
1 & 1 & 2 & 6 & 18 & 972 &  4.93 &  0.42\\ \hline
1 & 0 & 5 & 9 & 11 & 974 &  3.33 &  0.65\\ \hline
\end{tabular}
\end{center}

Les mêmes test réalisé sur les nombres générés par le random de python nous donnent les résultats suivant :


\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|}
\hline
$l = 10$ & $l = 11$ & $l = 12$ & $l = 13$ & $l = 14$ & $l \geq 15$ & Résultats $\chi^2$ & Probabilités \\ \hline
0 & 1 & 4 & 6 & 11 & 978 &  1.50 &  0.91\\ \hline
0 & 3 & 1 & 7 & 14 & 975 &  4.16 &  0.53\\ \hline
1 & 1 & 3 & 6 & 13 & 976 &  2.25 &  0.81\\ \hline
0 & 2 & 1 & 5 & 6 & 986 &  8.04 &  0.15\\ \hline
1 & 0 & 1 & 7 & 11 & 980 &  5.70 &  0.34\\ \hline
0 & 0 & 2 & 7 & 6 & 985 &  7.25 &  0.20\\ \hline
1 & 2 & 6 & 7 & 11 & 973 &  2.45 &  0.78\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline

1 & 1 & 6 & 9 & 20 & 963 &  6.05 &  0.30\\ \hline
0 & 1 & 6 & 7 & 12 & 974 &  1.62 &  0.90\\ \hline
0 & 4 & 5 & 5 & 8 & 978 &  7.11 &  0.21\\ \hline
0 & 2 & 6 & 5 & 17 & 970 &  3.61 &  0.61\\ \hline
1 & 0 & 9 & 10 & 14 & 966 &  8.84 &  0.12\\ \hline
0 & 1 & 5 & 11 & 8 & 975 &  3.77 &  0.58\\ \hline
0 & 1 & 6 & 13 & 22 & 958 & 10.75 &  0.06\\ \hline
0 & 1 & 3 & 8 & 9 & 979 &  2.24 &  0.81\\ \hline
1 & 2 & 8 & 7 & 12 & 970 &  4.90 &  0.43\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
0 & 1 & 2 & 10 & 12 & 975 &  2.30 &  0.81\\ \hline
0 & 2 & 2 & 9 & 17 & 970 &  2.90 &  0.72\\ \hline
0 & 2 & 4 & 12 & 8 & 974 &  4.31 &  0.51\\ \hline
0 & 2 & 7 & 11 & 13 & 967 &  3.41 &  0.64\\ \hline
1 & 0 & 1 & 10 & 10 & 978 &  6.38 &  0.27\\ \hline
0 & 2 & 2 & 8 & 12 & 976 &  1.69 &  0.89\\ \hline
0 & 4 & 6 & 10 & 18 & 962 &  7.03 &  0.22\\ \hline
0 & 2 & 1 & 7 & 6 & 984 &  6.96 &  0.22\\ \hline
0 & 3 & 7 & 8 & 13 & 969 &  3.40 &  0.64\\ \hline
\end{tabular}
\end{center}

On donc ici un taux de réussites de $98\%$
\section{Générateur}
Puisque les décimales de $\pi$ semblent proches d'une séquence de chiffres
pseudo-aléatoire, nous pouvons les utiliser afin d'obtenir un \textit{seed}
pour un LCG\footnote{Linear Congruential Generator}. Ce dernier ne sera utilisé
que $k=100$ fois avant d'utiliser la séquence suivante. Celle-ci est composée de
$d=10$ chiffres qui forment ensemble un (grand) nombre entier.
Le multiplicateur du générateur est un nombre premier de 10 chiffres testé
à l'aide de l'outil \texttt{factor} issu des \textit{GNU coreutils}.
L'incrément a été fixé à 42 de façon totalement arbitraire.
Le module vaut $2^{20}$ ce qui permet de calculer rapidement par masquage
le reste de la division.
Les chiffres générés sont uniquement le premier dans les décimales de chaque
valeur de départ divisée par $m$.
Puisque le numérateur est par définition toujours strictement inférieur à $m$,
c'est un rationnel dans $]0,1[$ qui est utilisé.

La position de départ dans le fichier contenant le million de décimales
est déterminée par la date en secondes. Lorsqu'on arrive au bout de ce fichier,
on recommence au début.

Les résultats des tests sur les chiffres générés avec les mêmes paramètres
qu'à la section précédente se trouvent à la figure \ref{fig:genD}.

\begin{figure}
\center
\begin{tabular}{l|c|c|c}
Test & $\pi$ & Générés & Résultat \\ \hline \hline
Poker & 91\% & 98\% & > \\ \hline
Gap & 85\% & 85\% & = \\ \hline
Coupons & 95\% & 94\% & <
\end{tabular}
\caption{Comparaison des chiffres générés et des premières décimales de $\pi$}
\label{fig:genD}
\end{figure}

\subsection{Tests}
Nous allons réitérer les mêmes tests que nous avons réaliser sur les décimales de $\pi$ et sur des chiffres générés pas la fonction random de python mais cette fois-ci sur des nombres générés a l'aide de notre générateur.
Pour reproduire ces tests, il suffit de reprendre les commandes qui on été utilisées dans les sections précédentes.

\textbf{Rappel :} Les paramètres restants inchangés on compare les résultats générés aux valeurs théoriques citées précédemment.
\subsubsection{Poker}

\begin{center}
\begin{tabular}{|l|l|l|l|l|c|c|}
\hline
1 face $\neq$ & 2 faces $\neq$  & 3 faces $\neq$ & 4 faces $\neq$ & 5 faces $\neq$ & Résultats $\chi^2$ & Probabilités \\
\hline \hline
41 & 128 & 329 & 354 & 148 &  3.01 &  0.56\\ \hline
37 & 135 & 332 & 355 & 141 &  1.17 &  0.88\\ \hline
25 & 135 & 327 & 363 & 150 &  5.49 &  0.24\\ \hline
27 & 128 & 356 & 361 & 128 &  2.56 &  0.63\\ \hline
41 & 126 & 341 & 343 & 149 &  2.98 &  0.56\\ \hline
25 & 130 & 363 & 350 & 132 &  3.79 &  0.43\\ \hline
30 & 138 & 345 & 352 & 135 &  1.33 &  0.86\\ \hline
33 & 143 & 344 & 349 & 131 &  2.00 &  0.74\\ \hline
35 & 143 & 359 & 324 & 139 &  5.05 &  0.28\\ \hline
32 & 130 & 359 & 357 & 122 &  2.22 &  0.69\\ \hline
36 & 129 & 335 & 360 & 140 &  0.53 &  0.97\\ \hline
42 & 138 & 352 & 363 & 105 &  9.68 &  0.05\\ \hline
34 & 124 & 346 & 348 & 148 &  1.38 &  0.85\\ \hline
26 & 135 & 326 & 373 & 140 &  4.46 &  0.35\\ \hline
40 & 117 & 335 & 359 & 149 &  3.46 &  0.48\\ \hline
39 & 122 & 366 & 366 & 107 &  8.69 &  0.07\\ \hline
26 & 155 & 353 & 332 & 134 &  9.32 &  0.05\\ \hline
32 & 115 & 345 & 370 & 138 &  2.24 &  0.69\\ \hline
33 & 124 & 324 & 365 & 154 &  4.14 &  0.39\\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
32 & 118 & 344 & 385 & 121 &  5.16 &  0.27\\ \hline
40 & 129 & 338 & 366 & 127 &  1.91 &  0.75\\ \hline
36 & 126 & 322 & 364 & 152 &  3.72 &  0.44\\ \hline
38 & 128 & 331 & 366 & 137 &  1.23 &  0.87\\ \hline
24 & 124 & 343 & 379 & 130 &  5.21 &  0.27\\ \hline
30 & 140 & 353 & 337 & 140 &  2.88 &  0.58\\ \hline
35 & 133 & 306 & 395 & 131 &  9.15 &  0.06\\ \hline
24 & 139 & 343 & 353 & 141 &  4.28 &  0.37\\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
 . & . & . & . & . & . & . \\ \hline
32 & 114 & 346 & 369 & 139 &  2.41 &  0.66\\ \hline
26 & 125 & 345 & 378 & 126 &  4.37 &  0.36\\ \hline
31 & 117 & 356 & 363 & 133 &  1.98 &  0.74\\ \hline
36 & 132 & 339 & 368 & 125 &  1.59 &  0.81\\ \hline
41 & 134 & 339 & 364 & 122 &  3.19 &  0.53\\ \hline
37 & 124 & 331 & 369 & 139 &  1.48 &  0.83\\ \hline
32 & 137 & 344 & 362 & 125 &  1.76 &  0.78\\ \hline
\end{tabular}
\end{center}
Nous avons $98\%$ de réussites pour le test du Poker.

\subsubsection{Gap}

Les résultats obtenus en réalisant plusieurs test de Gap sur des nombres issus de notre générateur sont le suivants :

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
\hline
$r = 0$ & $r = 1$ & $r = 2$ & $r = 3$ & $r = 4$ & $r = 5$ & $r = 6$ & $r = 7$ & $r = 8$ & $r = 9$ & $r = 10$ & $r > 11$ & Résultats $\chi^2$ & Probabilités \\ \hline
2398 & 1186 & 692 & 324 & 164 & 80 & 39 & 16 & 10 & 1 & 3 & 2 & 19.83 &  0.05\\ \hline
2435 & 1215 & 631 & 331 & 148 & 86 & 35 & 25 & 7 & 8 & 3 & 3 & 12.50 &  0.33\\ \hline
2433 & 1297 & 608 & 342 & 140 & 84 & 39 & 22 & 6 & 5 & 1 & 1 & 11.60 &  0.39\\ \hline
2576 & 1276 & 592 & 287 & 168 & 75 & 44 & 19 & 11 & 4 & 4 & 1 &  9.67 &  0.56\\ \hline
2436 & 1223 & 603 & 358 & 161 & 82 & 32 & 23 & 6 & 5 & 6 & 0 & 19.71 &  0.05\\ \hline
2542 & 1228 & 648 & 333 & 142 & 72 & 33 & 25 & 8 & 7 & 1 & 0 & 10.84 &  0.46\\ \hline
2498 & 1274 & 601 & 313 & 184 & 73 & 43 & 22 & 6 & 1 & 0 & 0 & 15.56 &  0.16\\ \hline
2552 & 1177 & 651 & 307 & 159 & 96 & 38 & 19 & 8 & 4 & 1 & 0 & 13.26 &  0.28\\ \hline
2522 & 1260 & 657 & 325 & 150 & 66 & 35 & 16 & 5 & 2 & 6 & 3 & 17.41 &  0.10\\ \hline
2532 & 1283 & 611 & 327 & 157 & 70 & 31 & 18 & 12 & 4 & 2 & 2 &  6.15 &  0.86\\ \hline
2514 & 1227 & 570 & 323 & 164 & 87 & 37 & 29 & 8 & 5 & 3 & 3 & 14.83 &  0.19\\ \hline
2602 & 1278 & 603 & 295 & 165 & 80 & 31 & 15 & 10 & 5 & 3 & 3 & 12.52 &  0.33\\ \hline
2520 & 1189 & 663 & 305 & 163 & 74 & 34 & 20 & 10 & 6 & 4 & 3 & 10.65 &  0.47\\ \hline
2594 & 1273 & 631 & 307 & 154 & 71 & 34 & 14 & 7 & 5 & 5 & 2 & 10.98 &  0.44\\ \hline
2432 & 1231 & 662 & 322 & 160 & 75 & 35 & 25 & 7 & 5 & 1 & 1 &  8.46 &  0.67\\ \hline
2502 & 1238 & 621 & 311 & 148 & 68 & 54 & 19 & 14 & 6 & 1 & 3 & 13.16 &  0.28\\ \hline
2643 & 1309 & 650 & 284 & 149 & 63 & 35 & 21 & 5 & 2 & 1 & 3 & 25.83 &  0.01\\ \hline
2548 & 1304 & 646 & 292 & 159 & 73 & 36 & 12 & 5 & 6 & 2 & 2 & 11.99 &  0.36\\ \hline
2445 & 1291 & 636 & 330 & 152 & 74 & 28 & 14 & 14 & 5 & 4 & 1 & 11.63 &  0.39\\ \hline
2472 & 1249 & 624 & 307 & 172 & 80 & 37 & 22 & 9 & 5 & 1 & 1 &  3.42 &  0.98\\ \hline
\end{tabular}
\end{center}

On a ici un taux de réussites de $85\%$

\subsection*{Coupons}

Nous terminons par réaliser de nouveau plusieurs tests de coupons mais cette fois-ci sur les nombres obtenus avec notre générateur.

On obtient un taux de réussite de $94\%$ sur les résultats suivants :

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|}
\hline
$l = 10$ & $l = 11$ & $l = 12$ & $l = 13$ & $l = 14$ & $l \geq 15$ & Résultats $\chi^2$ & Probabilités \\ \hline
1 & 1 & 7 & 8 & 14 & 969 &  3.33 &  0.65\\ \hline
1 & 4 & 4 & 5 & 8 & 978 &  7.71 &  0.17\\ \hline
0 & 0 & 2 & 11 & 22 & 965 & 10.40 &  0.06\\ \hline
0 & 2 & 0 & 8 & 23 & 967 & 12.27 &  0.03\\ \hline
0 & 1 & 5 & 7 & 5 & 982 &  5.96 &  0.31\\ \hline
0 & 3 & 4 & 8 & 14 & 971 &  1.59 &  0.90\\ \hline
1 & 0 & 8 & 4 & 13 & 974 &  8.28 &  0.14\\ \hline
0 & 0 & 7 & 6 & 11 & 976 &  4.75 &  0.45\\ \hline
0 & 2 & 5 & 6 & 13 & 974 &  1.14 &  0.95\\ \hline
0 & 3 & 2 & 10 & 8 & 977 &  5.08 &  0.41\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
1 & 1 & 7 & 7 & 6 & 978 &  7.23 &  0.20\\ \hline
0 & 3 & 1 & 11 & 14 & 971 &  5.06 &  0.41\\ \hline
0 & 2 & 2 & 9 & 12 & 975 &  1.78 &  0.88\\ \hline
0 & 2 & 6 & 12 & 13 & 967 &  3.16 &  0.68\\ \hline
0 & 1 & 5 & 8 & 21 & 965 &  5.68 &  0.34\\ \hline
0 & 1 & 2 & 9 & 13 & 975 &  1.86 &  0.87\\ \hline
0 & 0 & 6 & 13 & 19 & 962 &  8.60 &  0.13\\ \hline
0 & 1 & 3 & 9 & 12 & 975 &  1.14 &  0.95\\ \hline
0 & 1 & 5 & 5 & 14 & 975 &  2.02 &  0.85\\ \hline
0 & 2 & 4 & 10 & 7 & 977 &  3.73 &  0.59\\ \hline
0 & 0 & 3 & 13 & 18 & 966 &  7.25 &  0.20\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
 . & . & . & . & . & . & . & .\\ \hline
0 & 1 & 3 & 13 & 7 & 976 &  6.75 &  0.24\\ \hline
0 & 3 & 4 & 6 & 13 & 974 &  2.05 &  0.84\\ \hline
1 & 1 & 1 & 2 & 13 & 982 &  8.46 &  0.13\\ \hline
0 & 1 & 6 & 10 & 9 & 974 &  3.10 &  0.68\\ \hline
1 & 0 & 3 & 6 & 11 & 979 &  3.99 &  0.55\\ \hline
2 & 1 & 4 & 7 & 14 & 972 &  7.86 &  0.16\\ \hline
0 & 4 & 4 & 6 & 4 & 982 & 10.70 &  0.06\\ \hline
\end{tabular}
\end{center}

\end{document}
